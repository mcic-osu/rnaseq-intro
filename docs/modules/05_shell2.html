<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jelmer Poelstra">
<meta name="dcterms.date" content="2023-08-04">

<title>Unix shell part II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">RNAseq analysis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text"><i class="fa-solid fa-home" aria-label="home"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../modules/01_intro.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-computing-skills" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">1. Computing skills</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-computing-skills">    
        <li>
    <a class="dropdown-item" href="../modules/02_osc.html" rel="" target="">
 <span class="dropdown-text">- OSC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/03_vscode.html" rel="" target="">
 <span class="dropdown-text">- VS Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/04_shell.html" rel="" target="">
 <span class="dropdown-text">- Unix shell I</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/05_shell2.html" rel="" target="">
 <span class="dropdown-text">- Unix shell II</span></a>
  </li>  
        <li class="dropdown-header">- Genomic data files [TBA]</li>
        <li class="dropdown-header">- Shell scripting [TBA]</li>
        <li class="dropdown-header">- Software at OSC [TBA]</li>
        <li class="dropdown-header">- SLURM compute jobs [TBA]</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-from-reads-to-counts" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">2. From reads to counts</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-from-reads-to-counts">    
        <li class="dropdown-header">- Read QC with <code>FastQC</code> and <code>MultiQC</code> [TBA]</li>
        <li class="dropdown-header">- Trimming with <code>TrimGalore</code> [TBA]</li>
        <li class="dropdown-header">- rRNA removal with <code>SortMeRNA</code> [TBA]</li>
        <li class="dropdown-header">- Alignment with <code>STAR</code> [TBA]</li>
        <li class="dropdown-header">- Counting with <code>Salmon</code> [TBA]</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analyzing-the-counts" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">3. Analyzing the counts</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analyzing-the-counts">    
        <li class="dropdown-header">- Creating a DESeq2 object [TBA]</li>
        <li class="dropdown-header">- PCA [TBA]</li>
        <li class="dropdown-header">- Differential expression analysis [TBA]</li>
        <li class="dropdown-header">- GO enrichment analysis [TBA]</li>
        <li class="dropdown-header">- KEGG enrichment analysis [TBA]</li>
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-reference-material" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Reference material</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-reference-material">    
        <li class="dropdown-header">Specific tutorials</li>
        <li>
    <a class="dropdown-item" href="../info/osc_transfer.html" rel="" target="">
 <span class="dropdown-text">- File transfer to and from OSC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../info/osc_ssh.html" rel="" target="">
 <span class="dropdown-text">- Using OSC with SSH</span></a>
  </li>  
        <li class="dropdown-header">General info</li>
        <li>
    <a class="dropdown-item" href="../info/shell_commands.html" rel="" target="">
 <span class="dropdown-text">- Shell commands overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../info/shell_shortcuts.html" rel="" target="">
 <span class="dropdown-text">- Shell keyboard shortcuts</span></a>
  </li>  
        <li class="dropdown-header">- Further Resources</li>
        <li class="dropdown-header">- Glossary</li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../info/about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mcic-osu/rnaseq-intro" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview-getting-set-up" id="toc-overview-getting-set-up" class="nav-link active" data-scroll-target="#overview-getting-set-up">Overview &amp; getting set up</a></li>
  <li><a href="#some-commands-and-features-to-get-you-up-to-speed" id="toc-some-commands-and-features-to-get-you-up-to-speed" class="nav-link" data-scroll-target="#some-commands-and-features-to-get-you-up-to-speed"><span class="header-section-number">1</span> Some commands and features to get you up to speed</a>
  <ul class="collapse">
  <li><a href="#counting-lines-with-wc--l" id="toc-counting-lines-with-wc--l" class="nav-link" data-scroll-target="#counting-lines-with-wc--l"><span class="header-section-number">1.1</span> Counting lines with <code>wc -l</code></a></li>
  <li><a href="#keyboard-shortcuts" id="toc-keyboard-shortcuts" class="nav-link" data-scroll-target="#keyboard-shortcuts"><span class="header-section-number">1.2</span> Keyboard shortcuts</a></li>
  <li><a href="#environment-variables-and-the-echo-command" id="toc-environment-variables-and-the-echo-command" class="nav-link" data-scroll-target="#environment-variables-and-the-echo-command"><span class="header-section-number">1.3</span> Environment variables and the <code>echo</code> command</a></li>
  </ul></li>
  <li><a href="#commands-for-file-organization" id="toc-commands-for-file-organization" class="nav-link" data-scroll-target="#commands-for-file-organization"><span class="header-section-number">2</span> Commands for file organization</a>
  <ul class="collapse">
  <li><a href="#create-dirs-with-mkdir-and-files-with-touch" id="toc-create-dirs-with-mkdir-and-files-with-touch" class="nav-link" data-scroll-target="#create-dirs-with-mkdir-and-files-with-touch"><span class="header-section-number">2.1</span> Create dirs with <code>mkdir</code> (and files with <code>touch</code>)</a></li>
  <li><a href="#copy-files-and-dirs-with-cp" id="toc-copy-files-and-dirs-with-cp" class="nav-link" data-scroll-target="#copy-files-and-dirs-with-cp"><span class="header-section-number">2.2</span> Copy files and dirs with <code>cp</code></a></li>
  <li><a href="#moving-with-mv-and-general-cpmv-tips" id="toc-moving-with-mv-and-general-cpmv-tips" class="nav-link" data-scroll-target="#moving-with-mv-and-general-cpmv-tips"><span class="header-section-number">2.3</span> Moving with <code>mv</code>, and general <code>cp</code>/<code>mv</code> tips</a></li>
  <li><a href="#intermezzo-the-trouble-with-spaces-in-file-names" id="toc-intermezzo-the-trouble-with-spaces-in-file-names" class="nav-link" data-scroll-target="#intermezzo-the-trouble-with-spaces-in-file-names"><span class="header-section-number">2.4</span> Intermezzo: the trouble with spaces in file names</a></li>
  <li><a href="#removing-files-with-rm" id="toc-removing-files-with-rm" class="nav-link" data-scroll-target="#removing-files-with-rm"><span class="header-section-number">2.5</span> Removing files with <code>rm</code></a></li>
  </ul></li>
  <li><a href="#globbing-with-shell-wildcard-expansion" id="toc-globbing-with-shell-wildcard-expansion" class="nav-link" data-scroll-target="#globbing-with-shell-wildcard-expansion"><span class="header-section-number">3</span> Globbing with shell wildcard expansion</a>
  <ul class="collapse">
  <li><a href="#shell-wildcards" id="toc-shell-wildcards" class="nav-link" data-scroll-target="#shell-wildcards"><span class="header-section-number">3.1</span> Shell wildcards</a></li>
  <li><a href="#using-the-wildcard" id="toc-using-the-wildcard" class="nav-link" data-scroll-target="#using-the-wildcard"><span class="header-section-number">3.2</span> Using the <code>*</code> wildcard</a></li>
  <li><a href="#common-uses-of-globbing" id="toc-common-uses-of-globbing" class="nav-link" data-scroll-target="#common-uses-of-globbing"><span class="header-section-number">3.3</span> Common uses of globbing</a></li>
  </ul></li>
  <li><a href="#viewing-text-files" id="toc-viewing-text-files" class="nav-link" data-scroll-target="#viewing-text-files"><span class="header-section-number">4</span> Viewing text files</a>
  <ul class="collapse">
  <li><a href="#cat" id="toc-cat" class="nav-link" data-scroll-target="#cat"><span class="header-section-number">4.1</span> <code>cat</code></a></li>
  <li><a href="#head-and-tail" id="toc-head-and-tail" class="nav-link" data-scroll-target="#head-and-tail"><span class="header-section-number">4.2</span> <code>head</code> and <code>tail</code></a></li>
  <li><a href="#less" id="toc-less" class="nav-link" data-scroll-target="#less"><span class="header-section-number">4.3</span> <code>less</code></a></li>
  </ul></li>
  <li><a href="#command-output-redirection" id="toc-command-output-redirection" class="nav-link" data-scroll-target="#command-output-redirection"><span class="header-section-number">5</span> Command output redirection</a>
  <ul class="collapse">
  <li><a href="#plain-redirection-with" id="toc-plain-redirection-with" class="nav-link" data-scroll-target="#plain-redirection-with"><span class="header-section-number">5.1</span> Plain redirection with <code>&gt;</code></a></li>
  <li><a href="#appending-with" id="toc-appending-with" class="nav-link" data-scroll-target="#appending-with"><span class="header-section-number">5.2</span> Appending with <code>&gt;&gt;</code></a></li>
  <li><a href="#the-power-of-the-unix-shell" id="toc-the-power-of-the-unix-shell" class="nav-link" data-scroll-target="#the-power-of-the-unix-shell"><span class="header-section-number">5.3</span> The power of the Unix shell</a></li>
  </ul></li>
  <li><a href="#at-home-reading-reference-pages" id="toc-at-home-reading-reference-pages" class="nav-link" data-scroll-target="#at-home-reading-reference-pages">At-home reading: reference pages</a></li>
  <li><a href="#further-resources" id="toc-further-resources" class="nav-link" data-scroll-target="#further-resources">Further resources</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/mcic-osu/rnaseq-intro/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Unix Shell - Part II</h1>
<p class="subtitle lead">Working with files and directories</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jelmer Poelstra </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 4, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<hr>
<p><br></p>
<section id="overview-getting-set-up" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="overview-getting-set-up">Overview &amp; getting set up</h2>
<p>In this session, we will continue learning about the Unix shell. Specifically, we will focus on:</p>
<ul>
<li>Commands for file and directory organization, such as copying, moving, renaming, and deleting</li>
<li>Selecting multiple files with wildcards (“globbing”)</li>
<li>Viewing text files</li>
<li>Redirecting the output of commands to files</li>
<li>Keyboard shortcuts, counting lines, and environment variables</li>
</ul>
<p>As always, we’ll be working in VS Code — if you don’t already have a session open, see below how to do so.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Starting VS Code at OSC - with a Terminal (Click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Log in to OSC’s OnDemand portal at <a href="https://ondemand.osc.edu" class="uri">https://ondemand.osc.edu</a>.</li>
<li>In the blue top bar, select <code>Interactive Apps</code> and then near the bottom of the dropdown menu, click <code>Code Server</code>.</li>
<li>In the form that appears on a new page:
<ul>
<li>Select an appropriate OSC project (here: <code>PAS0471</code>)</li>
<li>For this session, select <code>/fs/ess/PAS0471</code> as the starting directory</li>
<li>Make sure that <code>Number of hours</code> is at least <code>2</code></li>
<li>Click <code>Launch</code>.</li>
</ul></li>
<li>On the next page, once the top bar of the box has turned green and says <code>Runnning</code>, click <code>Connect to VS Code</code>.</li>
</ol>
<figure class="figure">
<p align="center">
<img src="img/osc-code-launch_ed.png" width="80%" class="figure-img">
</p>
</figure>
<ol start="5" type="1">
<li>Open a Terminal by clicking &nbsp; <i class="fa-solid fa-bars" aria-label="bars"></i> &nbsp; =&gt; <code>Terminal</code> =&gt; <code>New Terminal</code>. (Or use one of the keyboard shortcuts: <kbd>Ctrl</kbd>+<kbd>`</kbd> (backtick) or <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>C</kbd>.)</li>
<li>For now, your working directory doesn’t matter — we’ll change it in a bit.</li>
</ol>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="some-commands-and-features-to-get-you-up-to-speed" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="some-commands-and-features-to-get-you-up-to-speed"><span class="header-section-number">1</span> Some commands and features to get you up to speed</h2>
<p>We’ll start with a few miscellaneous shell commands and features that we’ll either use again later on in today’s session, or that are just good to know about sooner rather than later.</p>
<section id="counting-lines-with-wc--l" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="counting-lines-with-wc--l"><span class="header-section-number">1.1</span> Counting lines with <code>wc -l</code></h3>
<p>The <code>wc</code> (short for <code>w</code>ord<code>c</code>ount) command can count things like the number of characters, words, and lines in a text file. Getting a <strong>line count</strong> for files is often especially useful, certainly for genomic data files: for example, the number of reads in a FASTQ file is simply the number of lines divided by 4, and other file types like GFF (an annotation format) have one entry per line.</p>
<p>To get just the line count, we should use the <strong><code>-l</code> option</strong> of <code>wc</code> — let’s count the number of lines in the metadata file in <code>/fs/ess/PAS0471/demo/202307_rnaseq/</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> /fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>9 /fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv</code></pre>
<p><br></p>
</section>
<section id="keyboard-shortcuts" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="keyboard-shortcuts"><span class="header-section-number">1.2</span> Keyboard shortcuts</h3>
<p>Using keyboard shortcuts can make your life in the Unix shell a lot easier. Below, we’ll see a couple particularly useful ones. For more, see <a href="../info/shell_shortcuts.html">the keyboard shortcuts reference page on this website</a>.</p>
<section id="command-history-faster-cursor-movement" class="level4" data-number="1.2.1">
<h4 data-number="1.2.1" class="anchored" data-anchor-id="command-history-faster-cursor-movement"><span class="header-section-number">1.2.1</span> Command history &amp; faster cursor movement</h4>
<p>It’s common to re-execute command line expressions, and even more common to make slight changes to a previously executed one. To cycle through your <strong>command history</strong> and retrieve previous commands<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> you can <kbd>⇧</kbd> and <kbd>⇩</kbd>.</p>
<p>If you hit the <kbd>⇧</kbd> (up arrow) once, you’ll get your most recent command, and if you keep hitting it, you’ll go further back. The<kbd>⇩</kbd> (down arrow) will go the other way: towards the present.</p>
<p>For example, say that we wanted to see what the output of the <code>wc</code> command is when we omit the <code>-l</code> option. At the prompt, press <kbd>⇧</kbd> once to retrieve your previous <code>wc</code> command. Then, edit it to remove the <code>-l</code>, and press <kbd>Enter</kbd>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> /fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>9  27 236 /fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv</code></pre>
<p>A few other tips while you’re trying this — perhaps practice this a few times:</p>
<ul>
<li><p>To execute a command, <strong>you can press <kbd>Enter</kbd> regardless of where your cursor is</strong> on the line; it does <em>not</em> need to be at the end of the line.</p></li>
<li><p>After pressing <kbd>⇧</kbd>, you needed to move to almost the beginning of the line to make your edit (removing <code>-l</code>). <strong>There are two ways to speed up your cursor movements:</strong></p>
<ul>
<li><p>If you keep <kbd>Ctrl</kbd> (Windows) or <kbd>Option</kbd> (Mac) pressed while using the left (and right) arrows to move your cursor on the line, you will move one “word”, rather than one character, at a time!</p></li>
<li><p>If you press <kbd>Ctrl</kbd>+<kbd>A</kbd>, you will move all the way to the beginning of the line (and <kbd>Ctrl</kbd>+<kbd>E</kbd> will move you to the end of the line).</p></li>
</ul></li>
</ul>
</section>
<section id="use-man-wc-or-wc---help-to-figure-out-what-the-three-counts-mean" class="level4 unnumbered exercise">
<h4 class="unnumbered anchored" data-anchor-id="use-man-wc-or-wc---help-to-figure-out-what-the-three-counts-mean">Use <code>man wc</code> or <code>wc --help</code> to figure out what the three counts mean</h4>
<details>
<summary>
Solution
</summary>
<p>The three numbers returned by <code>wc</code> when we don’t give it any options are: the number of lines, words, and bytes, respectively.</p>
Sometimes you might want to get the number of characters, which you can do with <code>wc -c</code>.
</details>
</section>
<section id="cancel-and-kill" class="level4" data-number="1.2.2">
<h4 data-number="1.2.2" class="anchored" data-anchor-id="cancel-and-kill"><span class="header-section-number">1.2.2</span> Cancel and kill</h4>
<p>It is also common to want to <strong>cancel a running command or get out of a “hanging” prompt</strong>, and you can do so with <strong><kbd>Ctrl</kbd>+<kbd>C</kbd></strong>.</p>
<p>If you accidentally omit a file name with a command like <code>wc</code> that <em>requires</em> an argument<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, something odd happens — you move to a new line in the terminal but don’t get your regular prompt back; it appears to “hang”. Try it:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To get out of this, press <kbd>Ctrl</kbd>+<kbd>C</kbd> to cancel the partial command, and get your prompt back. There are several other ways you might accidentally try to execute incomplete commands, such as <strong>forgetting to close parentheses or quotes</strong>, and in some cases, you don’t even know what the problem is. Just press <kbd>Ctrl</kbd>+<kbd>C</kbd> and then take a close look at your command to find the problem.</p>
<p>Another type of situation where <kbd>Ctrl</kbd>+<kbd>C</kbd> is useful is when you execute a command that does actually run, but you realize, for example, that there is a mistake in the command (wrong input file!), or that the command will take way too long to run interactively. <kbd>Ctrl</kbd>+<kbd>C</kbd> will then <strong>“kill” (cancel) the running process</strong>. A somewhat silly example is the sleep command, which you can use to make the computer wait between successive commands:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will "run" for 60 seconds, after which you get your prompt back </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sleep</span> 60s</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Press Ctrl + C to get your prompt back sooner!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>^C</code></pre>
<p><br></p>
</section>
</section>
<section id="environment-variables-and-the-echo-command" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="environment-variables-and-the-echo-command"><span class="header-section-number">1.3</span> Environment variables and the <code>echo</code> command</h3>
<p>In computer languages, “<strong>variables</strong>” store information. When we reference a <em>shell variable</em> to retrieve its value, we have to put a <strong><code>$</code></strong> in front of its name (unlike in say R or Python) — for instance, we reference a variable with the name <code>x</code> as <code>$x</code><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p>In later sessions, we’ll see how we can create our own variables, and we will be using these a lot! But the Unix shell also has a number of <em>pre-existing variables</em>, which are called <strong>environment variables</strong> and have ALL-CAPS names. For example, the variable <strong><code>$HOME</code></strong> contains the path to your Home directory, and the variable <strong><code>$USER</code></strong> contains your username.</p>
<p>How can we examine the value of variables? Just typing, e.g., <code>$USER</code> at the prompt will not work: as pointed out in the previous session, <em>every command line expression should start with a command</em>, and a variable is not a command. Instead, we should use the <strong><code>echo</code> command</strong>, which simply prints whatever text you give it:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You don't have to use quotes (" "), at least here, but it's good practice</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hello there"</span>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>Hello there</code></pre>
<p>We’ll also be using the <code>echo</code> command a lot, such as by letting our shell scripts report progress and the values of variables. If we use echo with a(n environment) variable like <code>$USER</code>, the variable’s <em>value</em> will be printed:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The shell will replace $USER by its value, so echo will just see 'jelmer'</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">$USER</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>jelmer</code></pre>
<section id="your-turn" class="level4 unnumbered exercise">
<h4 class="unnumbered anchored" data-anchor-id="your-turn">Your Turn</h4>
<ul>
<li><p>Print “Hello there &lt;user&gt;” to the screen<br>
(i.e., <code>&lt;user&gt;</code> should be replaced by your actual username).</p></li>
<li><p>Use an <em>environment variable</em> mentioned above to move to your Home directory, and then move back to where you were (as seen last time).</p></li>
</ul>
<details>
<summary>
Hints for the second question (click here)
</summary>
<p>Recall from the previous session that:</p>
<ul>
<li>The command <code>cd</code> will change your working directory</li>
<li><code>cd -</code> will move back to your previous directory</li>
</ul>
</details>
<details>
<summary>
Solutions (click here)
</summary>
<ul>
<li><strong>Print “Hello there &lt;user&gt;” to the screen:</strong></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (This would also work without the " " quotes)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hello there </span><span class="va">$USER</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>Hello there jelmer</code></pre>
<p><br></p>
<ul>
<li><strong>Use an environment variable to move to your Home directory,</strong> <strong>check that it worked, then move back to where you were:</strong></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to your Home directory</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="va">$HOME</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the working directory</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">pwd</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; /users/PAS0471/jelmer</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Move back to your previous working directory</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="at">-</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<p><br></p>
</section>
</section>
<section id="commands-for-file-organization" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="commands-for-file-organization"><span class="header-section-number">2</span> Commands for file organization</h2>
<p>Below, we’ll learn about the key commands for directory and file organization: <code>mkdir</code> (create dirs), <code>cp</code> (copy), <code>mv</code> (move and rename), and <code>rm</code> (remove). But first off, why do we need to learn this when VS Code and the OnDemand website itself have file browsers with this kind of functionality?</p>
<ul>
<li>We’ll regularly want to use these commands non-interactively in our shell scripts</li>
<li>These commands are often a more efficient way to organize files</li>
<li>They provide a good way to get more familiar with the Unix shell and how Unix commands work</li>
<li>It’s good to know these basics and be prepared for situations where you do not have access to OnDemand/VS Code.</li>
</ul>
<section id="create-dirs-with-mkdir-and-files-with-touch" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="create-dirs-with-mkdir-and-files-with-touch"><span class="header-section-number">2.1</span> Create dirs with <code>mkdir</code> (and files with <code>touch</code>)</h3>
<p>The <code>mkdir</code> command creates new directories: you can give it one or more arguments to create one or more directories. Create one for yourself, with your username, in <code>/fs/ess/PAS0471</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> /fs/ess/PAS0471/<span class="va">$USER</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, move to that directory:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /fs/ess/PAS0471/<span class="va">$USER</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, we’ll create a directory for these introductory sessions and go there:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> rnaseq_intro</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> rnaseq_intro       <span class="co"># Use Tab completion</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s switch VS Code to this directory: click &nbsp; <i class="fa-solid fa-bars" aria-label="bars"></i> &nbsp; =&gt; &nbsp; <code>File</code> &nbsp; =&gt; &nbsp; <code>Open Folder</code>, and select <code>/fs/ess/PAS0471/&lt;user&gt;/rnaseq_intro</code>. You’ll have to open a Terminal window again, too.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>/fs/ess/PAS0471/&lt;user&gt;/rnaseq_intro</code> (with <code>&lt;user&gt;</code> replaced by your username) is going to be <strong>your working dir for upcoming sessions too</strong>, so you should always open/reload VS Code in that dir.</p>
</div>
</div>
<p>Finally, let’s make several dirs at once — this is how I usually structure my research project directories:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> data metadata results scripts sandbox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="recursive-mkdir" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="recursive-mkdir"><span class="header-section-number">2.1.1</span> Recursive <code>mkdir</code></h4>
<p>By default, <code>mkdir</code> does not work recursively: it will refuse to make a dir inside a dir that does not (yet) exist. And if you try to do so, the resulting error might confuse you:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> sandbox/2023/08</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>mkdir: cannot create directory ‘sandbox/2023/08’: No such file or directory</code></pre>
<blockquote class="blockquote">
<p><em>Why won’t you do your job, <code>mkdir</code>!?</em></p>
</blockquote>
<p>Instead, we need to use the <code>-p</code> option to <code>mkdir</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> sandbox/2023/08</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In general, Unix commands are designed to be powerful and to do exactly what you asked, but <strong>non-recursive default behaviors</strong> (we will see this with the commands to copy (<code>cp</code>) and delete (<code>rm</code>) files as well) are an exception to this. We can assume that the developers thought that recursive default behaviors were just too risky.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
When a dir already exists, <code>-p</code> will also suppress any errors (Click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The <code>-p</code> also changes <code>mkdir</code>’s behavior when you try to create a dir that already exists.</p>
<p>By default, it will give an error:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: we (should have) just created this dir above, so it already exists</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> sandbox/2023/08</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>mkdir: cannot create directory ‘sandbox/2023/08’: File exists</code></pre>
<p>With <code>-p</code>, it doesn’t complain (but won’t do anything, like overwriting, either):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> sandbox/2023/08    <span class="co"># Should not give any output</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As we’ll see later, all of this makes <code>mkdir -p</code> ideal for non-interactive usage in shell scripts.</p>
</div>
</div>
</div>
</section>
<section id="create-new-files-with-touch" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="create-new-files-with-touch"><span class="header-section-number">2.1.2</span> Create new <em>files</em> with <code>touch</code></h4>
<p>As we have learned the command to make new dirs, you may be wondering what the equivalent command is to make new, empty files: it is <strong><code>touch</code></strong>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create three new, empty files:</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> file1 file2 file3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command isn’t as commonly used as <code>mkdir</code> because we usually create new files on the fly with command <em>output redirection</em>, which we’ll learn about below. But it’s certainly useful to create dummy files to practice your shell skills.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p><br></p>
</section>
</section>
<section id="copy-files-and-dirs-with-cp" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="copy-files-and-dirs-with-cp"><span class="header-section-number">2.2</span> Copy files and dirs with <code>cp</code></h3>
<p>Above, you created your own directory — now, let’s get you a copy of the partial RNAseq dataset in <code>/fs/ess/PAS0471/demo/202307_rnaseq/</code> that we’ll be working with throughout these sessions.</p>
<p>The <code>cp</code> command copies files and/or directories from one location to another. It has <strong>two required arguments</strong>: what you want to copy (the <em>source</em>), and where you want to copy it to (the <em>destination</em>). So, we can summarize its basic syntax as <strong><code>cp &lt;source&gt; &lt;destination&gt;</code></strong>.</p>
<p>We’ll start by copying the metadata file:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-v</span> /fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv metadata/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>‘/fs/ess/PAS0471/demo/202307_rnaseq/metadata/meta.tsv’ -&gt; ‘metadata/meta.tsv’</code></pre>
<p>This told <code>cp</code> to copy the metadata file into the <code>metadata</code> dir you created earlier.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>-v</code> option for verbose
</div>
</div>
<div class="callout-body-container callout-body">
<p>We used the <strong><code>-v</code> option</strong>, short for <strong>v</strong>erbose, to make <code>cp</code> tell us what it did:</p>
<ul>
<li>Recall that by default, Unix commands are generally silent when performing actions like this.</li>
<li>But many commands have a verbose option (nearly always <code>-v</code>) to make them tell us what they did, which can be very useful.</li>
</ul>
</div>
</div>
<p>Like <code>mkdir</code>, <strong><code>cp</code> is not recursive by default</strong>. If you want to copy a directory and all of its contents, we need to use its <code>-r</code> option<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. We’ll use that option to copy the dir with FASTQ files:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-rv</span> /fs/ess/PAS0471/demo/202307_rnaseq/data/fastq data/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq’ -&gt; ‘data/fastq’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/Miapaca2_A178V_R1.fastq.gz’ -&gt; ‘data/fastq/Miapaca2_A178V_R1.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/ASPC1_G31V_R2.fastq.gz’ -&gt; ‘data/fastq/ASPC1_G31V_R2.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/ASPC1_A178V_R2.fastq.gz’ -&gt; ‘data/fastq/ASPC1_A178V_R2.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/ASPC1_G31V_R1.fastq.gz’ -&gt; ‘data/fastq/ASPC1_G31V_R1.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/ASPC1_A178V_R1.fastq.gz’ -&gt; ‘data/fastq/ASPC1_A178V_R1.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/Miapaca2_A178V_R2.fastq.gz’ -&gt; ‘data/fastq/Miapaca2_A178V_R2.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/Miapaca2_G31V_R1.fastq.gz’ -&gt; ‘data/fastq/Miapaca2_G31V_R1.fastq.gz’
‘/fs/ess/PAS0471/demo/202307_rnaseq/data/fastq/Miapaca2_G31V_R2.fastq.gz’ -&gt; ‘data/fastq/Miapaca2_G31V_R2.fastq.gz’</code></pre>
<p>Let’s get an overview of the files we now have in our <code>rnaseq-intro</code> dir:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> <span class="at">-C</span>                 <span class="co"># Your own output should have colors</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>.
├── data
│   └── fastq
│       ├── ASPC1_A178V_R1.fastq.gz
│       ├── ASPC1_A178V_R2.fastq.gz
│       ├── ASPC1_G31V_R1.fastq.gz
│       ├── ASPC1_G31V_R2.fastq.gz
│       ├── Miapaca2_A178V_R1.fastq.gz
│       ├── Miapaca2_A178V_R2.fastq.gz
│       ├── Miapaca2_G31V_R1.fastq.gz
│       └── Miapaca2_G31V_R2.fastq.gz
├── metadata
│   └── meta.tsv
├── results
├── sandbox
│   └── 2023
│       └── 08
└── scripts

8 directories, 9 files</code></pre>
<p><br></p>
</section>
<section id="moving-with-mv-and-general-cpmv-tips" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="moving-with-mv-and-general-cpmv-tips"><span class="header-section-number">2.3</span> Moving with <code>mv</code>, and general <code>cp</code>/<code>mv</code> tips</h3>
<p>The <code>mv</code> command is nearly identical to the <code>cp</code> command, except that it:</p>
<ul>
<li><strong>Moves</strong> rather than copies files and/or dirs</li>
<li>Works <strong>recursively</strong> by default</li>
</ul>
<p>We’ll use this section to learn a few more things about <em>the usage of both these commands</em>. All the examples use <code>mv</code>, but <code>cp</code> would work equivalently.</p>
<ul>
<li><p><strong>Use the <code>.</code> notation</strong> for the current working dir if you want to copy/move something there:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will copy 'meta.tsv' from the 'metadata' dir into the current working dir</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> metadata/meta.tsv .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>By default, both <code>mv</code> and <code>cp</code> will overwrite files without warning!</strong> Use the <code>-i</code> (for <code>i</code>nteractive) option to make it let you confirm before overwriting anything (that option also exists for <code>rm</code>, where you’ll practice with it).</p></li>
<li><p>There is <strong>no separate command for renaming</strong>, because both <code>cp</code> and <code>mv</code> allow you to provide a different name for the target. Thus, if used as follows, <code>mv</code> functions merely as a renamer:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> meta.tsv meta_version2.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And we can move and rename at the same time as well — let’s do that to restore our original location and name for the metadata file:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> meta_version2.tsv metadata/meta.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Renaming rules for both <code>cp</code> and <code>mv</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the destination is:</p>
<ul>
<li><p><strong>An existing dir</strong>, the file(s) will keep their original names.</p></li>
<li><p><strong>Not an existing dir</strong>, the path specifies the new name of the file or dir, depending on what the source is.</p>
<p>However, neither command will create “additional, intermediate” directories, so <code>mv metadata/meta.tsv metadata/misc/meta.tsv</code> would not work if <code>metadata/misc</code> doesn’t already exist.</p></li>
</ul>
</div>
</div>
<section id="your-turn-1" class="level4 unnumbered exercise">
<h4 class="unnumbered anchored" data-anchor-id="your-turn-1">Your Turn</h4>
<p>In which directory (in terms of a relative path from your working dir) would the FASTQ files end up with each of the following commands?</p>
<ul>
<li><code>mv data/fastq data/fastq_files</code></li>
<li><code>mv data/fastq fastq</code></li>
<li><code>mv data/fastq .</code></li>
</ul>
<p>What if you wanted to move the FASTQ files <em>directly</em> into your current working directory (from <code>data/fastq</code>)?<br>
<em>(You should know how to do this 1-by-1 but we have not yet seen the special</em> <em>character you can use to do this for all files at once — see the hint.)</em></p>
<details>
<summary>
Hint for the last question (click here)
</summary>
<p>You can use the asterisk (star) symbol <code>*</code> to select all files in a directory.</p>
(We’ll learn more about <code>*</code> later. In short, it is one of a few <em>shell wildcards</em> used to expand to filenames, and this one specifically matches any number of any character, and as such will match all possible filenames when used by itself.)
</details>
<details>
<summary>
Solutions (click here)
</summary>
<p><em>In which directory (in terms of relative path from your working dir)</em> <em>will the FASTQ files end up with each of the following commands?</em></p>
<ul>
<li><p><code>mv data/fastq data/fastq_files</code> — <strong>in the dir <code>fastq_files</code></strong> (we’ve really just renamed the dir <code>fastq</code> to <code>fastq_files</code>)</p></li>
<li><p><code>mv data/fastq fastq</code> — <strong>in <code>fastq</code></strong> (because our source is a dir, so is the destination)</p></li>
<li><p><code>mv data/fastq .</code> — <strong>in <code>fastq</code> also!</strong> (we’d need the syntax shown below to move the individual files directly into our current dir)</p></li>
</ul>
<p><em>What if you wanted to move the FASTQ files directly into your current</em> <em>working directory?</em></p>
<p>For one file:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> data/fastq/ASPC1_A178V_R1.fastq.gz .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For all files:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> data/fastq/<span class="pp">*</span> .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<p><br></p>
</section>
<section id="intermezzo-the-trouble-with-spaces-in-file-names" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="intermezzo-the-trouble-with-spaces-in-file-names"><span class="header-section-number">2.4</span> Intermezzo: the trouble with spaces in file names</h3>
<p>In the Unix shell, <strong>spaces are essentially special characters</strong> that are used to <em>separate</em> commands, options, and arguments — with the latter often being one or more file names.</p>
<p>For example, one of our earlier <code>mkdir</code> commands, <code>mkdir data metadata results scripts sandbox</code>, created five separate dirs instead of one dir with four spaces in it.</p>
<p>Therefore, to create or refer to a <em>file or directory name with a space in it</em>, you need some special notation. Two different methods are available: <strong>quoting</strong> the entire file name, and “<strong>escaping</strong>” the special meaning of the space:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 1: Put quotes around the entire file name:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="st">"my new dir"</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 2: Escape the special meaning of spaces by preceding them with a backslash</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> my<span class="dt">\ </span>new<span class="dt">\ </span>dir2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s see what we have now:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-1</span>    <span class="co"># The "-1" (dash one) option to ls lists each entry on its own line</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>data
metadata
my new dir
my new dir2
README.md</code></pre>
<p>In any situation where we refer to file or dir names that contain spaces, we’ll need quotes or escaping — consider this failing command:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> my new dir</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>bash: cd: my: No such file or directory</code></pre>
<p>Similarly, <code>ls</code> will fail as follows:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> my new dir</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>ls: cannot access my: No such file or directory
ls: cannot access new: No such file or directory
ls: cannot access dir: No such file or directory</code></pre>
<section id="why-does-cd-produce-one-error-while-ls-produces-three" class="level4 exercise" data-number="2.4.1">
<h4 data-number="2.4.1" class="anchored" data-anchor-id="why-does-cd-produce-one-error-while-ls-produces-three"><span class="header-section-number">2.4.1</span> Why does <code>cd</code> produce one error while <code>ls</code> produces three?</h4>
<details>
<summary>
Solution (click here)
</summary>
<p><code>cd</code> tried to move to non-existing dir <code>my</code>, and <em>ignored</em> the arguments <code>new</code> and <code>dir</code>, since it only accepts one argument.</p>
<p><code>ls</code> accepts multiple arguments and will try to list all 3 listed items, none of which happens to exist.</p>
</details>
</section>
<p>Fortunately, tab completion will insert backspaces for you — type <code>cd my</code> and press <kbd>Tab</kbd>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># After typing cd and pressing tab, the line should complete as follows:</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> my<span class="dt">\ </span>new<span class="dt">\ </span>dir</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's move back up:</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Nevertheless, the moral of the story is that you should always <strong>avoid spaces in file names</strong> when working at OSC. In fact, you should do so in any project that uses the Unix shell or any coding. If you need to separate words, then use underscores (<code>_</code>), dashes (<code>-</code>), and/or capitalization. For example:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> my_new_dir     <span class="co"># "snake" case</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> my-new-dir     <span class="co"># "kebab" case</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> myNewDir       <span class="co"># "camel" case</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
More file and dir naming tips
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s also a good idea to avoid characters other than letters, numbers, and underscores (<code>_</code>), dashes (<code>-</code>), and periods (<code>.</code>) in dir and file names.</p>
<p>Ideally, you’d only use the <code>.</code> to separate the <em>extension</em> (i.e., the abbreviation that indicates the type of file, like <code>txt</code> or <code>tsv</code>) from the rest of the file name, but it is (unfortunately) also common to use <code>.</code> as a “word separator” — e.g.&nbsp;<code>my_file.filtered.sorted.txt</code>.</p>
<p>Finally, avoid using <em>a number as the first character</em> in a file or dir name.</p>
</div>
</div>
<p><br></p>
</section>
<section id="removing-files-with-rm" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="removing-files-with-rm"><span class="header-section-number">2.5</span> Removing files with <code>rm</code></h3>
<p>Our final command in this series is <code>rm</code>, which removes (deletes) files and directories.</p>
<p>One important thing to note upfront is that <code>rm</code> will <strong>permanently and irreversibly delete files</strong> without the typical “intermediate step” of placing them in a trash bin, like you are used to with your personal computer. With a healthy dosis of fear installed, let’s dive in.</p>
<p>To remove one or more files, you can simply pass the file names as arguments to <code>rm</code> as with previous commands. We will also use the <code>-v</code> (<code>v</code>erbose) option to have it tell us what it did:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This assumes you ran `touch file1 file2 file3` earlier on; do so now if needed</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-v</span> file1            <span class="co"># Remove 1 file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>removed ‘file1’</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-v</span> file2 file3      <span class="co"># Remove 2 files</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>removed ‘file2’
removed ‘file3’</code></pre>
<p><em>(If it seems cumbersome to type a bunch of file names,</em> <em>we’ll see below how you can use a Shell wildcard to select many files at once.)</em></p>
<section id="recursive-rm" class="level4" data-number="2.5.1">
<h4 data-number="2.5.1" class="anchored" data-anchor-id="recursive-rm"><span class="header-section-number">2.5.1</span> Recursive <code>rm</code></h4>
<p>As a safety measure, <code>rm</code> will by default only delete files and not directories or their contents — i.e., like <code>mkdir</code> and <code>cp</code>, it refuses to act <em>recursively</em> by default. <strong>To remove dirs and their contents, use the <code>-r</code> option:</strong></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You should have these from 2.4 (if not, run: mkdir "my new dir" "my new dir2")</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-r</span> <span class="st">"my new dir"</span> <span class="st">"my new dir2"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>removed directory: ‘my new dir’
removed directory: ‘my new dir2’</code></pre>
<p>You should obviously be quite careful with <code>rm -r</code>! If you’d run it on say your personal dir within PAS0471, <code>/fs/ess/PAS0471/&lt;user&gt;</code>, after working in there for months on different projects, it would remove all of those files in one fell swoop! (Though luckily, OSC does keep backups in the project dirs.)</p>
</section>
<section id="preventing-disaster" class="level4" data-number="2.5.2">
<h4 data-number="2.5.2" class="anchored" data-anchor-id="preventing-disaster"><span class="header-section-number">2.5.2</span> Preventing disaster</h4>
<p><strong>To make it less likely for bad things to happen</strong>, here are some measures you can take as well as a built-in feature worth pointing out:</p>
<ul>
<li>If you’re worried about a specific removal you are about to perform, you could use <strong><code>rm -i</code></strong> (short for <code>i</code>nteractive) to have remove ask you to confirm the removal of every dir and file, though this is not practical for dirs with <em>lots</em> of files:</li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make some files for this exercise</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> sandbox/remove_test</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> sandbox/remove_test/a1 sandbox/remove_test/a2 sandbox/remove_test/a3</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Now remove them interactively, press 'y' (or 'n') for every question</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-ri</span> sandbox/remove_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>rm: descend into directory sandbox/remove_test? y
rm: remove regular empty file sandbox/remove_test/a1’? y
rm: remove regular empty file sandbox/remove_test/a2’? y
rm: remove regular empty file sandbox/remove_test/a3’? y</code></pre>
<ul>
<li><p>You can <strong>write-protect important files</strong>, as we’ll see in the next session.</p></li>
<li><p>You can use <strong><code>rmdir</code></strong> whenever a dir you want to remove <em>should</em> be empty. That command will only remove empty dirs, and fails on non-empty dirs!</p></li>
<li><p>Finally, it may be assuring to learn that <strong>you will not be able to remove other people’s files at OSC</strong> (since you do not have “write permission” for them)<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. For example, the file below was created by me and you won’t be able to remove (or edit) it:</p></li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> /fs/ess/PAS0471/demo/202307_rnaseq/README.md</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>rm: cannot remove ‘/fs/ess/PAS0471/demo/202307_rnaseq/README.md’: Permission denied</code></pre>
<p><br></p>
</section>
</section>
</section>
<section id="globbing-with-shell-wildcard-expansion" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="globbing-with-shell-wildcard-expansion"><span class="header-section-number">3</span> Globbing with shell wildcard expansion</h2>
<p><em>Shell wildcard expansion</em> is a very useful technique to <strong>select files</strong>. Selecting files with wildcard expansion is called <em>globbing</em>.</p>
<section id="shell-wildcards" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="shell-wildcards"><span class="header-section-number">3.1</span> Shell wildcards</h3>
<p>In the term “wildcard expansion”, <em>wildcard</em> refers to a few symbols that have a special meaning: specifically, they match certain characters in file names. (We’ll see below what <em>expansion</em> refers to.)</p>
<p>Here, we’ll only talk about the most-used wildcard, <code>*</code>, in detail. But for the sake of completeness, I list them all below:</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Wildcard</th>
<th>Matches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong><code>*</code></strong></td>
<td>Any number of any character, including nothing</td>
</tr>
<tr class="even">
<td><strong><code>?</code></strong></td>
<td>Any single character</td>
</tr>
<tr class="odd">
<td><strong><code>[]</code></strong> and <strong><code>[^]</code></strong></td>
<td>One or none (<code>^</code>) of the “character set” within the brackets</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="using-the-wildcard" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="using-the-wildcard"><span class="header-section-number">3.2</span> Using the <code>*</code> wildcard</h3>
<p>Here are some file matching examples with <code>*</code> — if we are in our directory <code>data/fastq</code>, then:</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 38%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Pattern</th>
<th>Matches files whose name…</th>
<th>Matches in our dir</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>*fastq.gz</code></td>
<td><strong>Ends in</strong> “.fastq.gz”</td>
<td>All files (but this patterns is useful to select files by extension)</td>
</tr>
<tr class="even">
<td><code>A*</code></td>
<td><strong>Starts with</strong> a capital “A”</td>
<td>Files for the ASPC1 samples</td>
</tr>
<tr class="odd">
<td><code>*_R1*</code></td>
<td><strong>Contains</strong> “_R1”</td>
<td>Files with forward reads</td>
</tr>
</tbody>
</table>
<p>Note also that because <code>*</code> matches “zero characters” as well, <code>A*</code> would also match a file whose name is simply “A”.</p>
<p><em>Wildcard expansion</em> (e.g., the expansion of <code>*fastq.gz</code> to all FASTQ files in the working dir) <strong>is done by the shell itself</strong>, and not by a specific command. Try to think about what that means for a second. As a consequence, we can use shell wildcards with any command that takes file names as arguments — for example:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> data/fastq/A<span class="pp">*</span>R1.fastq.gz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>data/fastq/ASPC1_A178V_R1.fastq.gz  data/fastq/ASPC1_G31V_R1.fastq.gz</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that these are line-counts of the compressed file, not reflecting the # of reads</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> data/fastq/A<span class="pp">*</span>R1.fastq.gz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>wc -l data/fastq/A*R1.fastq.gz
  15358 data/fastq/ASPC1_A178V_R1.fastq.gz
  14974 data/fastq/ASPC1_G31V_R1.fastq.gz
  30332 total</code></pre>
<p>When used in isolation, <code>*</code> matches all files by definition, and can for example be useful if you want to copy the entire <em>contents</em> of a directory into your working dir (recall the exercise in 2.3):</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> data/fastq/<span class="pp">*</span> .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="your-turn-practice-with" class="level4 unnumbered exercise">
<h4 class="unnumbered anchored" data-anchor-id="your-turn-practice-with">Your Turn: practice with <code>*</code></h4>
<p>What pattern would you use if you wanted to select:</p>
<ul>
<li><p>FASTQ files for all <code>A178V</code> samples in our dir <code>data/fastq</code></p></li>
<li><p>In a fictional example (we don’t have plain FASTQ files), all gzipped (<code>.fastq.gz</code>) and plain FASTQ files (<code>.fastq</code>) at the same time?</p></li>
</ul>
<details>
<summary>
Solutions (click here)
</summary>
<ul>
<li><p><code>data/fastq/*A178V*</code> <em>(We’ll need a <code>*</code> on either side of our pattern, because the file names</em> <em>neither start not end with the pattern.)</em></p></li>
<li><p><code>data/fastq/*.fastq*</code> <em>(Recall that the <code>*</code> will also match nothing, so this will also match files</em> <em>whose name <em>end</em> in <code>.fastq</code>, i.e.&nbsp;plain FASTQ files)</em></p></li>
</ul>
</details>
</section>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Don’t confuse shell wildcards with <em>regular expressions</em>! (Click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For those of you who know some regular expressions from coding in e.g.&nbsp;R, Python, or advanced usage of GUI-based text editors like jEdit: wildcards are <em>conceptually</em> similar, but the <code>*</code> and <code>?</code> symbols don’t have the same meaning, and there are way fewer shell wildcards than regular expression symbols.</p>
<p>In particular, note that <code>.</code> is not a shell wildcard and thus represents a literal period.</p>
<p>We <em>can</em> also use regular expressions in the Shell but this is functionality that is built in to several specific commands, like <code>grep</code> and <code>sed</code>, and is not a form of shell expansion.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="common-uses-of-globbing" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="common-uses-of-globbing"><span class="header-section-number">3.3</span> Common uses of globbing</h3>
<p>What can we use this functionality for, other than listing matching files?</p>
<p>We already saw one <code>cp</code> example above, and indeed, it is very common to use globbing to move (<code>mv</code>), copy (<code>cp</code>), or remove (<code>rm</code>) multiple files at once.</p>
<p>A few more examples:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-v</span> data/fastq/<span class="pp">*</span>Miapaca<span class="pp">*</span>_R1<span class="pp">*</span> .     <span class="co"># Copy 3 FASTQ files to your working dir </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>‘data/fastq/Miapaca2_A178V_R1.fastq.gz’ -&gt; ‘./Miapaca2_A178V_R1.fastq.gz’
‘data/fastq/Miapaca2_G31V_R1.fastq.gz’ -&gt; ‘./Miapaca2_G31V_R1.fastq.gz’</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-v</span> <span class="pp">*</span>fastq.gz                  <span class="co"># Remove all FASTQ files in your working dir</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>removed ‘Miapaca2_A178V_R1.fastq.gz’
removed ‘Miapaca2_G31V_R1.fastq.gz’</code></pre>
<p>In next sessions, we’ll also use globbing a lot to <em>select files to loop over</em>.</p>
<p><br></p>
</section>
</section>
<section id="viewing-text-files" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="viewing-text-files"><span class="header-section-number">4</span> Viewing text files</h2>
<p>Here, I’ll give a quick overview of the most common commands to view text files in the shell.</p>
<p>Several of these commands are especially useful to look at (very) large files, such as genomic data files, and we’ll talk more about them in the next session.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Viewing files in VS Code
</div>
</div>
<div class="callout-body-container callout-body">
<p>For smaller text files, you might also choose to <strong>open them in the editor pane in VS Code</strong>. You can do so by finding and clicking on them in the Explorer in the side bar. Additionally, when you list files <em>in the shell</em> in VS Code, you can hold <kbd>Ctrl</kbd> (Windows) or <kbd>Command</kbd> (Mac) and then click on a file name (you should see it being underlined before you click)!</p>
<p>Unlike the shell, VS Code is also able to open image files (e.g.&nbsp;<code>.png</code>, <code>.jpg</code>) and PDFs this way — and as we’ll see later, you can even render HTML files in the editor pane.</p>
</div>
</div>
<section id="cat" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="cat"><span class="header-section-number">4.1</span> <code>cat</code></h3>
<p>The <code>cat</code> (short for con<code>cat</code>enate) command will print the full contents of a file. It is therefore mostly conventient for smaller files, since the contents of very large files will just stream by on your screen.</p>
<p>For example, let’s take a look at the <code>README.md</code> file[^7] in your working dir:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> README.md</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code># README for /fs/ess/PAS0471/demo/202307_rnaseq

This directory contains files from an RNAseq project by the Montserrate-Cruz lab,
meant to demonstrate Unix shell basics.

In the `data/fastq` directory, there are 8 gzipped FASTQ files for 4 samples
(the sequencing was done in a paired-end fashion and each sample has a file with
forward reads (`_R1.fastq.gz`) and a file with reverse reads (`_R2.fastq.gz`)).

To be able to demonstrate Unix shell and bioinformatics basics,
those 8 files do not represent the full dataset for the experiment in question.
Files are present for only 4 of the 18 samples,
and the individual files are much smaller than the originals:
100,000 reads were randomly sub-sampled
(the original files contained ~30 million reads each).

A very simple metadata TSV (tab-separated values) text file is present in
`metadata/meta.tsv`, with one row per input file,
and columns specifying the read direction, sample ID, cell line, and variant.</code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>.md</code> = Markdown (Click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>.md</code> is the extension for “Markdown” files. Markdown is a very simple but still quite powerful text “Markup language” (e.g.&nbsp;HTML and LaTeX being much more complicated ones). This website is also made with a file type that is a Markdown variant.</p>
<p>But because of Markdown’s simplicity, a Markdown file can look very similar to a plain text file. The only Markdown features used in the README file are backticks around file names, so they will show up in <code>code font</code>, and <code>#</code>, which will create a Level 1 header.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="head-and-tail" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="head-and-tail"><span class="header-section-number">4.2</span> <code>head</code> and <code>tail</code></h3>
<p>The twin commands <code>head</code> and <code>tail</code> will print the first and last lines, respectively, of a file — this can be very useful to preview the contents of larger files.</p>
<p>By default, <code>head</code> and <code>tail</code> will print up to 10 lines of a file:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> metadata/meta.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>sample_id       cell_line       variant
ASPC1_A178V     ASPC1   A178V
ASPC1_A178V     ASPC1   A178V
ASPC1_G31V      ASPC1   G31V
ASPC1_G31V      ASPC1   G31V
Miapaca2_A178V  Miapaca2        A178V
Miapaca2_A178V  Miapaca2        A178V
Miapaca2_G31V   Miapaca2        G31V
Miapaca2_G31V   Miapaca2        G31V</code></pre>
<p>But <code>meta.tsv</code> only has 9 lines, so we got 9 instead. We can use the <code>-n</code> argument to modify the number of lines that is being printed:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> 3 metadata/meta.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>Miapaca2_A178V  Miapaca2        A178V
Miapaca2_G31V   Miapaca2        G31V
Miapaca2_G31V   Miapaca2        G31V</code></pre>
<p><br></p>
</section>
<section id="less" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="less"><span class="header-section-number">4.3</span> <code>less</code></h3>
<p>Another very handy command to view medium to large text files is <code>less</code>, which opens up a text file within your shell in a “pager”. That is, you will not get your prompt back until you press <kbd>q</kbd> to quit <code>less</code>, but you can e.g.&nbsp;scroll/move around in the file.</p>
<p>Besides scrolling with your mouse, its easiest to move around with up and down arrows and, if you have them, <kbd>PgUp</kbd> and <kbd>PgDn</kbd> (also, <kbd>u</kbd> will move up half a page and <kbd>d</kbd> will move down half a page).</p>
<p>If you find yourself scrolling down and down to try and reach the end of the file, you can instead press <kbd>G</kbd> to go to the very end right away (and <kbd>g</kbd> to go back to the top).</p>
<p>Try it with one of the FASTQ files (we’ll go into more detail next time!):</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">less</span> data/fastq/ASPC1_A178V_R1.fastq.gz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
</section>
</section>
<section id="command-output-redirection" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="command-output-redirection"><span class="header-section-number">5</span> Command output redirection</h2>
<p>As mentioned earlier, Unix commands nearly always print their output to the screen. But you can also <strong>“redirect” the output</strong> to a file.</p>
<section id="plain-redirection-with" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="plain-redirection-with"><span class="header-section-number">5.1</span> Plain redirection with <code>&gt;</code></h3>
<p>With “<strong><code>&gt;</code></strong>”, we redirect output to a file:</p>
<ul>
<li>If the file doesn’t exist, it will be <em>created</em>.</li>
<li>If the file does exist, any contents will be <em>overwritten</em>.</li>
</ul>
<div class="sourceCode" id="cb72"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"My first line"</span> <span class="op">&gt;</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb73"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>My first line</code></pre>
<p>Of course, redirection works not just with <code>echo</code>, but with every single command (or bioinformatics program) that prints output to screen:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="op">&gt;</span> my_files_on_2023-08-04.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> my_files_on_2023-08-04.txt    <span class="co"># Use tab completion</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>data
metadata
my_files_on_20230803.txt
README.md
test.txt</code></pre>
<p><br></p>
</section>
<section id="appending-with" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="appending-with"><span class="header-section-number">5.2</span> Appending with <code>&gt;&gt;</code></h3>
<p>With “<strong><code>&gt;&gt;</code></strong>”, we <strong>append</strong> the output to a file (that is, it won’t overwrite any existing content like <code>&gt;</code>):</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"My second line"</span> <span class="op">&gt;&gt;</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>My first line
My second line</code></pre>
<p>And to circle back to <code>&gt;</code>, demonstrating how this will overwrite contents:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"My third line overwrote the first two!"</span> <span class="op">&gt;</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>My third line overwrote the first two!</code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The pipe
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is a third way of redirecting command output: the <strong><code>|</code> (pipe)</strong>, which takes the output of one command and “pipes” it as input for a subsequent command.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will tell us how many files and dirs are in our current working dir</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>6</code></pre>
<p>Pipes avoids the need write/read files — this saves typing, and not writing/reading also makes the operation much quicker.</p>
</div>
</div>
<p><br></p>
</section>
<section id="the-power-of-the-unix-shell" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="the-power-of-the-unix-shell"><span class="header-section-number">5.3</span> The power of the Unix shell</h3>
<p>Another example, where we combine shell wildcards with output redirection, demonstrates how simple and powerful the Unix shell can be (and why the <code>cat</code> command is named after concatenation).</p>
<p>Imagine you had a thousand FASTA files in a dir <code>fastas</code>, and wanted to combine all of them, back-to-back, into a single file (“multi-FASTA” files, i.e.&nbsp;FASTA files with multiple sequences, indeed just consist of multiple FASTA entries concatenated). This simple command would do that — and would be very fast even for really large files:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (Fictitious example, you don't have a dir 'fastas')</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> fastas/<span class="pp">*</span>.fa <span class="op">&gt;</span> combined.fa</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Imagine trying to create such a concatenated file in a regular text editor with a graphical user interface!</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Standard out vs standard error (Click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>While we have not noticed it so far, Unix commands (and many bioinformatics command-line tools alike) actually separate “regular” output (called “<strong>standard out</strong>”) from error messages (“<strong>standard error</strong>”).</p>
<p>Without redirection, both are printed to screen, so we might never notice. But look what happens when we run <code>ls</code> with a non-existing file name as an argument, and redirect the output:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-lh</span> non_existent_file <span class="op">&gt;</span> my_file_list.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>ls: cannot access non_existent_file: No such file or directory</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> my_file_list.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code> </code></pre>
<p><strong>The error message was not redirected to the output file at all,</strong> <strong>but only to the screen!</strong></p>
<p>Or:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-lh</span> README.md non_existent_file <span class="op">&gt;</span> another_file_list.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>ls: cannot access non_existent_file: No such file or directory</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> another_file_list.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>-rw-r--r-- 1 jelmer PAS0471 964 Jul 27 17:48 README.md</code></pre>
<p>In the example above, we had both standard out (the file listing of <code>README.md</code>) and standard error (the error message for <code>non_existent_file</code>), and:</p>
<ul>
<li>Standard out was redirected to the file</li>
<li>Standard error was still printed to screen.</li>
</ul>
<p>Of course, there <em>is</em> also a way to redirect standard error. We’ll at least see this in the context of standard out and standard error redirection for Slurm batch jobs.</p>
</div>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="at-home-reading-reference-pages" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="at-home-reading-reference-pages">At-home reading: reference pages</h2>
<ul>
<li><a href="../info/shell_commands.html">Common shell commands</a></li>
<li><a href="../info/shell_shortcuts.html">Shell keyboard shortcuts</a></li>
</ul>
<p><br></p>
</section>
<section id="further-resources" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="further-resources">Further resources</h2>
<ul>
<li><a href="https://www.osc.edu/documentation/tutorials/unix_basics">OSC’s UNIX Basics</a></li>
<li><a href="https://www.learnenough.com/command-line-tutorial" class="uri">https://www.learnenough.com/command-line-tutorial</a></li>
<li><a href="https://cvw.cac.cornell.edu/Linux/" class="uri">https://cvw.cac.cornell.edu/Linux/</a></li>
<li><a href="http://www.ee.surrey.ac.uk/Teaching/Unix/" class="uri">http://www.ee.surrey.ac.uk/Teaching/Unix/</a></li>
<li><a href="https://www.udacity.com/course/linux-command-line-basics--ud595" class="uri">https://www.udacity.com/course/linux-command-line-basics--ud595</a></li>
<li><a href="http://moo.nac.uci.edu/~hjm/How_Programs_Work_On_Linux.html" class="uri">http://moo.nac.uci.edu/~hjm/How_Programs_Work_On_Linux.html</a></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>From now on, I will refer to command-line expressions, with which I mean everything you type in the shell until the next <kbd>Enter</kbd> as simply a <em>command</em>. “Command”, then, can refer to either a command’s name (e.g.&nbsp;<code>ls</code>) or a full command line expression (e.g.&nbsp;<code>ls -lh path/to/dir</code>) — this is potentially confusing but common usage and the context should usually make the meaning clear.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Though we will see later that you can also “pipe in” input to <code>wc</code> and many other commands, in which case it does not need a file name as an argument, since you are providing data for it to operate on in a different way.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>The advantage of this is that it makes it very easy to recognize variables inside scripts and so on!<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>When you use <code>touch</code> on <em>existing</em> files, all it will do is change the timestamp that the file was most recently modified: hence the name of this command.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><code>-r</code> is a common option name for recursive behaviour among Unix commands (<code>mkdir</code> is an exception with its <code>-p</code>).<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>At least not by default, the person who created the file can change this.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">2023, Jelmer Poelstra</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mcic-osu/rnaseq-intro">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>